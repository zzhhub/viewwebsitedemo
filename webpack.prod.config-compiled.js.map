{"version":3,"sources":["webpack.prod.config.js"],"names":[],"mappings":"AAAA,IAAM,UAAU,QAAQ,SAAR,CAAhB;AACA,IAAM,oBAAoB,QAAQ,qBAAR,CAA1B;AACA,IAAM,oBAAoB,QAAQ,6BAAR,CAA1B;AACA,IAAM,QAAQ,QAAQ,eAAR,CAAd;AACA,IAAM,oBAAoB,QAAQ,0BAAR,CAA1B;AACA,IAAM,KAAK,QAAQ,IAAR,CAAX;;AAEA,GAAG,IAAH,CAAQ,qBAAR,EAA+B,GAA/B,EAAoC,UAAU,GAAV,EAAe,EAAf,EAAmB;AACnD,QAAM,MAAM,8BAAZ;AACA,OAAG,KAAH,CAAS,EAAT,EAAa,GAAb,EAAkB,CAAlB,EAAqB,IAAI,MAAzB,EAAiC,CAAjC,EAAoC,UAAU,GAAV,EAAe,OAAf,EAAwB,MAAxB,EAA+B,CAAE,CAArE;AACH,CAHD;;AAKA,OAAO,OAAP,GAAiB,MAAM,iBAAN,EAAyB;AACtC,YAAQ;AACJ,oBAAY,QADR;AAEJ,kBAAU,kBAFN;AAGJ,uBAAe;AAHX,KAD8B;AAMtC,aAAS,CACL,IAAI,iBAAJ,CAAsB;AAClB,kBAAU,mBADQ;AAElB,mBAAW;AAFO,KAAtB,CADK,EAKL,IAAI,QAAQ,QAAR,CAAiB,kBAArB,CAAwC;AACpC,cAAM,SAD8B;AAEpC,kBAAU;AAF0B,KAAxC,CALK,EASL,IAAI,QAAQ,YAAZ,CAAyB;AACrB,uBAAe;AACX,sBAAU;AADC;AADM,KAAzB,CATK,EAcL,IAAI,QAAQ,QAAR,CAAiB,cAArB,CAAoC;AAChC,kBAAU;AACN,sBAAU;AADJ;AADsB,KAApC,CAdK,EAmBL,IAAI,iBAAJ,CAAsB;AAClB,kBAAU,oBADQ;AAElB,kBAAU,0BAFQ;AAGlB,gBAAQ;AAHU,KAAtB,CAnBK,CAN6B;AA+BtC;AACA,eAAW;AACP,4BAAoB,IADb;AAEP,aAAK,IAFE;AAGP,gBAAQ,IAHD;AAIP,cAAM,IAJC;AAKP,eAAO,EAAE,QAAQ,IAAV,EALA;AAMP,eAAO;AACH;AACA,oBAAQ;AACJ;AACA,wBAAQ,wBAFJ;AAGJ;AACA,6BAAa,EAAC,SAAU,GAAX,EAJT;AAKJ;AACA,8BAAc;AANV;AAFL;AANA;AAhC2B,CAAzB,CAAjB","file":"webpack.prod.config-compiled.js","sourcesContent":["const webpack = require('webpack');\r\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\r\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\r\nconst merge = require('webpack-merge');\r\nconst webpackBaseConfig = require('./webpack.base.config.js');\r\nconst fs = require('fs');\r\n\r\nfs.open('./src/config/env.js', 'w', function (err, fd) {\r\n    const buf = 'export default \"production\";';\r\n    fs.write(fd, buf, 0, buf.length, 0, function (err, written, buffer){});\r\n});\r\n\r\nmodule.exports = merge(webpackBaseConfig, {\r\n    output: {\r\n        publicPath: '/dist/',\r\n        filename: '[name].[hash].js',\r\n        chunkFilename: '[name].[hash].chunk.js'\r\n    },\r\n    plugins: [\r\n        new ExtractTextPlugin({\r\n            filename: '[name].[hash].css',\r\n            allChunks: true\r\n        }),\r\n        new webpack.optimize.CommonsChunkPlugin({\r\n            name: 'vendors',\r\n            filename: 'vendors.[hash].js'\r\n        }),\r\n        new webpack.DefinePlugin({\r\n            'process.env': {\r\n                NODE_ENV: '\"production\"'\r\n            }\r\n        }),\r\n        new webpack.optimize.UglifyJsPlugin({\r\n            compress: {\r\n                warnings: false\r\n            }\r\n        }),\r\n        new HtmlWebpackPlugin({\r\n            filename: '../index_prod.html',\r\n            template: './src/template/index.ejs',\r\n            inject: false\r\n        })\r\n    ],\r\n    //���ÿ������\r\n    devServer: {\r\n        historyApiFallback: true,\r\n        hot: true,\r\n        inline: true,\r\n        port: 8090,\r\n        stats: { colors: true },\r\n        proxy: {\r\n            //ƥ������url\r\n            '/api': {\r\n                // Ŀ���������ַ\r\n                target: 'https://api.douban.com',\r\n                //·����д\r\n                pathRewrite: {'^/api' : '/'},\r\n                //����\r\n                changeOrigin: true\r\n            }\r\n        }\r\n    }\r\n});"]}