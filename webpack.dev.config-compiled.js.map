{"version":3,"sources":["webpack.dev.config.js"],"names":[],"mappings":"AAAA,IAAM,UAAU,QAAQ,SAAR,CAAhB;AACA,IAAM,oBAAoB,QAAQ,qBAAR,CAA1B;AACA,IAAM,oBAAoB,QAAQ,6BAAR,CAA1B;AACA,IAAM,QAAQ,QAAQ,eAAR,CAAd;AACA,IAAM,oBAAoB,QAAQ,0BAAR,CAA1B;AACA,IAAM,KAAK,QAAQ,IAAR,CAAX;;AAEA;AACA;AACA,IAAM,UAAU,QAAQ,SAAR,CAAhB;AACA,IAAM,MAAM,SAAZ;AACA,IAAM,UAAU,QAAQ,WAAR,CAAhB;AACA,IAAM,SAAS,QAAQ,MAAvB;AACA,IAAM,QAAQ,QAAQ,KAAtB;AACA,IAAM,QAAQ,QAAQ,KAAtB;AACA,IAAM,SAAS,QAAQ,MAAvB;AACA,IAAM,WAAW,QAAQ,QAAzB;AACA,IAAM,YAAY,QAAQ,MAAR,EAAlB;AACA,IAAI,GAAJ,CAAQ,MAAR,EAAgB,SAAhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,GAAG,IAAH,CAAQ,qBAAR,EAA+B,GAA/B,EAAoC,UAAU,GAAV,EAAe,EAAf,EAAmB;AACnD,QAAM,MAAM,+BAAZ;AACA,OAAG,KAAH,CAAS,EAAT,EAAa,GAAb,EAAkB,CAAlB,EAAqB,IAAI,MAAzB,EAAiC,CAAjC,EAAoC,UAAU,GAAV,EAAe,OAAf,EAAwB,MAAxB,EAA+B,CAAE,CAArE;AACH,CAHD;;AAKA,OAAO,OAAP,GAAiB,MAAM,iBAAN,EAAyB;AACtC,aAAS,aAD6B;AAEtC,YAAQ;AACJ,oBAAY,QADR;AAEJ,kBAAU,WAFN;AAGJ,uBAAe;AAHX,KAF8B;AAOtC,aAAS,CACL,IAAI,iBAAJ,CAAsB;AAClB,kBAAU,YADQ;AAElB,mBAAW;AAFO,KAAtB,CADK,EAKL,IAAI,QAAQ,QAAR,CAAiB,kBAArB,CAAwC;AACpC,cAAM,SAD8B;AAEpC,kBAAU;AAF0B,KAAxC,CALK,EASL,IAAI,iBAAJ,CAAsB;AAClB,kBAAU,eADQ;AAElB,kBAAU,0BAFQ;AAGlB,gBAAQ;AAHU,KAAtB,CATK,CAP6B;AAsBtC;AACA,eAAW;AACP,cADO,kBACA,GADA,EACK;AACR,gBAAI,GAAJ,CAAQ,YAAR,EAAsB,UAAC,GAAD,EAAM,GAAN,EAAc;AAChC,oBAAI,IAAJ,CAAS;AACL,2BAAO,CADF;AAEL,0BAAM;AAFD,iBAAT;AAIJ;AACC,aAND,GAOA,IAAI,GAAJ,CAAQ,aAAR,EAAuB,UAAC,GAAD,EAAM,GAAN,EAAc;AACjC,oBAAI,IAAJ,CAAS;AACL,2BAAO,CADF;AAEL,0BAAM;AAFD,iBAAT;AAIJ;AACC,aAND,CAPA,EAcA,IAAI,GAAJ,CAAQ,YAAR,EAAsB,UAAC,GAAD,EAAM,GAAN,EAAc;AAChC,oBAAI,IAAJ,CAAS;AACL,2BAAO,CADF;AAEL,0BAAM;AAFD,iBAAT;AAIA;AACH,aAND,CAdA,EAqBA,IAAI,GAAJ,CAAQ,aAAR,EAAuB,UAAC,GAAD,EAAM,GAAN,EAAc;AACjC,oBAAI,IAAJ,CAAS;AACL,2BAAO,CADF;AAEL,0BAAM;AAFD,iBAAT;AAIA;AACH,aAND,CArBA,EA4BA,IAAI,IAAJ,CAAS,YAAT,EAAuB,UAAC,GAAD,EAAM,GAAN,EAAa;AAChC,oBAAI,IAAJ,CAAS;AACL,2BAAO,CADF;AAEL,0BAAM;AAFD,iBAAT;AAIH,aALD,CA5BA,EAkCA,IAAI,GAAJ,CAAQ,eAAR,EAAyB,UAAC,GAAD,EAAM,GAAN,EAAa;AAClC,oBAAI,IAAJ,CAAS;AACL,2BAAO,CADF;AAEL,0BAAM;AAFD,iBAAT;AAIH,aALD,CAlCA,EAwCA,IAAI,IAAJ,CAAS,eAAT,EAA0B,UAAC,GAAD,EAAM,GAAN,EAAa;AACnC,oBAAI,IAAJ,CAAS;AACL,2BAAO,CADF;AAEL,0BAAM;AAFD,iBAAT;AAIH,aALD,CAxCA;AA8CH,SAhDM;;AAiDP,4BAAoB,IAjDb;AAkDP,aAAK,IAlDE;AAmDP,gBAAQ,IAnDD;AAoDP,eAAO,EAAE,QAAQ,IAAV,EApDA;AAqDP,cAAM,IArDC;AAsDP,eAAO;AACH;AACA,oBAAQ;AACJ;AACA,wBAAQ,wBAFJ;AAGJ;AACA,6BAAa,EAAC,SAAU,GAAX,EAJT;AAKJ;AACA,8BAAc;AANV;AAFL;AAtDA;AAvB2B,CAAzB,CAAjB","file":"webpack.dev.config-compiled.js","sourcesContent":["const webpack = require('webpack');\r\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\r\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\r\nconst merge = require('webpack-merge');\r\nconst webpackBaseConfig = require('./webpack.base.config.js');\r\nconst fs = require('fs');\r\n\r\n//模拟客户端的server\r\n//express+json-server\r\nconst express = require('express');\r\nconst app = express();\r\nconst appData = require('./db.json');\r\nconst seller = appData.seller;\r\nconst goods = appData.goods;\r\nconst login = appData.login;\r\nconst cfmreg = appData.cfmreg;\r\nconst getPrice = appData.getPrice;\r\nconst apiRoutes = express.Router();\r\napp.use('/api', apiRoutes);\r\n\r\n//express+body-parser\r\n//const express = require('express');\r\n//const app = express();\r\n//const bodyParser = require('body-parser');\r\n////create application/json parser\r\n//app.use(bodyParser.json());\r\n////create application/x-www-form-urlencoded parser\r\n//app.use(bodyParser.urlencoded({ extended:true }));\r\n//const apiRoutes = express.Router();\r\n//apiRoutes.get('/',function(req,res){\r\n//    res.json({message:'welcome to our api!'});\r\n//});\r\n//apiRoutes.route('/:apiName')\r\n//    .all(function(req,res){\r\n//        fs.readFile('./db.json','utf8',function(err,data){\r\n//            if (err) throw err\r\n//            const data = JSON.parse(data);\r\n//            if(data[req.params.apiName]){\r\n//                res.json(data[req.params.apiName])\r\n//            }\r\n//            else{\r\n//                res.send('no such api name')\r\n//            }\r\n//        })\r\n//    });\r\n\r\nfs.open('./src/config/env.js', 'w', function (err, fd) {\r\n    const buf = 'export default \"development\";';\r\n    fs.write(fd, buf, 0, buf.length, 0, function (err, written, buffer){});\r\n});\r\n\r\nmodule.exports = merge(webpackBaseConfig, {\r\n    devtool: '#source-map',\r\n    output: {\r\n        publicPath: '/dist/',\r\n        filename: '[name].js',\r\n        chunkFilename: '[name].chunk.js'\r\n    },\r\n    plugins: [\r\n        new ExtractTextPlugin({\r\n            filename: '[name].css',\r\n            allChunks: true\r\n        }),\r\n        new webpack.optimize.CommonsChunkPlugin({\r\n            name: 'vendors',\r\n            filename: 'vendors.js'\r\n        }),\r\n        new HtmlWebpackPlugin({\r\n            filename: '../index.html',\r\n            template: './src/template/index.ejs',\r\n            inject: false\r\n        })\r\n    ],\r\n    //���ÿ������\r\n    devServer: {\r\n        before(app) {\r\n            app.get('/api/goods', (req, res) => {\r\n                res.json({\r\n                    errno: 0,\r\n                    data: goods\r\n                });\r\n            //接口返回json数据，上面配置的数据seller就赋值给data请求后调用\r\n            }),\r\n            app.get('/api/seller', (req, res) => {\r\n                res.json({\r\n                    errno: 0,\r\n                    data: seller\r\n                });\r\n            //接口返回json数据，上面配置的数据seller就赋值给data请求后调用\r\n            }),\r\n            app.get('/api/login', (req, res) => {\r\n                res.json({\r\n                    errno: 0,\r\n                    data: login\r\n                });\r\n                //接口返回json数据，上面配置的数据seller就赋值给data请求后调用\r\n            }),\r\n            app.get('/api/cfmreg', (req, res) => {\r\n                res.json({\r\n                    errno: 0,\r\n                    data: cfmreg\r\n                });\r\n                //接口返回json数据，上面配置的数据seller就赋值给data请求后调用\r\n            }),\r\n            app.post('/api/goods', (req, res)=> {\r\n                res.json({\r\n                    errno: 0,\r\n                    data: goods\r\n                });\r\n            }),\r\n            app.get('/api/getPrice', (req, res)=> {\r\n                res.json({\r\n                    errno: 0,\r\n                    data: getPrice\r\n                });\r\n            }),\r\n            app.post('/api/getPrice', (req, res)=> {\r\n                res.json({\r\n                    errno: 0,\r\n                    data: getPrice\r\n                });\r\n            })\r\n        },\r\n        historyApiFallback: true,\r\n        hot: true,\r\n        inline: true,\r\n        stats: { colors: true },\r\n        port: 8090,\r\n        proxy: {\r\n            //ƥ������url\r\n            '/api': {\r\n                // Ŀ���������ַ\r\n                target: 'https://api.douban.com',\r\n                //·����д\r\n                pathRewrite: {'^/api' : '/'},\r\n                //����\r\n                changeOrigin: true\r\n            }\r\n        }\r\n    }\r\n});"]}